<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="generator" content="Google Web Designer 16.0.3.0320">
  <meta name="template" content="Banner 3.0.0">
  <meta name="environment" content="gwd-dv360">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="gwdpage_style.css" rel="stylesheet" data-version="13" data-exports-type="gwd-page">
  <link href="gwdpagedeck_style.css" rel="stylesheet" data-version="14" data-exports-type="gwd-pagedeck">
  <link href="gwdgooglead_style.css" rel="stylesheet" data-version="9" data-exports-type="gwd-google-ad">
  <link href="gwdimage_style.css" rel="stylesheet" data-version="17" data-exports-type="gwd-image">
  <style id="gwd-lightbox-style">
    .gwd-lightbox {
      overflow: hidden;
    }
  </style>
  <style id="gwd-text-style">
    p {
      margin: 0px;
    }
    h1 {
      margin: 0px;
    }
    h2 {
      margin: 0px;
    }
    h3 {
      margin: 0px;
    }
  </style>
  <style>
    html, body {
      width: 100%;
      height: 100%;
      margin: 0px;
    }
    .gwd-page-container {
      position: relative;
      width: 100%;
      height: 100%;
    }
    .gwd-page-content {
      background-color: transparent;
      transform: perspective(1400px) matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
      position: absolute;
      transform-style: preserve-3d;
    }
    .gwd-page-content * {
      transform-style: preserve-3d;
    }
    .gwd-page-wrapper {
      background-color: rgb(255, 255, 255);
      position: absolute;
      transform: translateZ(0px);
    }
    .gwd-page-size {
      width: 750px;
      height: 1300px;
    }
    .gwd-span-spot {
      position: absolute;
      width: 345.333px;
      height: 53.3333px;
      font-family: Rubik;
      font-size: 45px;
      top: 96px;
      font-weight: normal;
      color: rgb(73, 73, 73);
      left: 96px;
    }
    .gwd-q-1nk6 {
      position: absolute;
      width: 282.667px;
      height: 53.3281px;
      font-family: Rubik;
      font-size: 32px;
      color: rgb(108, 108, 108);
      font-weight: normal;
      top: 173px;
      left: 131px;
    }
    .gwd-h2-17r6 {
      position: absolute;
      font-family: Rubik;
      font-size: 32px;
      font-weight: normal;
      color: rgb(108, 108, 108);
      width: 283px;
      height: 53px;
      top: 463px;
      left: 124px;
    }
    .gwd-q-hpn9 {
      position: absolute;
      font-family: Rubik;
      font-size: 32px;
      color: rgb(108, 108, 108);
      width: 317px;
      height: 53px;
      font-weight: normal;
      left: 124px;
      top: 715px;
    }
    .gwd-span-115t {
      font-weight: normal;
    }
    .gwd-span-1yre {
      font-size: 30px;
      font-family: Rubik;
      color: rgb(108, 108, 108);
    }
    .gwd-span-1dzc {
      font-size: 30px;
      font-family: Rubik;
      color: rgb(108, 108, 108);
    }
    .gwd-span-o31d {
      position: absolute;
      width: 243px;
      font-family: Rubik;
      height: 39px;
      font-size: 28px;
      color: rgb(73, 73, 73);
      left: 155px;
      top: 294px;
    }
    .gwd-span-1syi {
      position: absolute;
      width: 193.758px;
      height: 39px;
      font-family: Rubik;
      font-size: 28px;
      color: rgb(73, 73, 73);
      top: 246px;
      left: 155px;
    }
    .gwd-span-3yyu {
      position: absolute;
      font-family: Rubik;
      font-size: 28px;
      color: rgb(73, 73, 73);
      top: 377px;
      left: 155px;
      height: 35px;
      width: 278px;
    }
    .gwd-div-13or {
      height: 270px;
      top: 290px;
    }
    .gwd-div-17qo {
      overflow: auto;
      position: absolute;
      display: flex;
      flex-flow: wrap;
      gap: 20px;
      height: 350px;
      top: 242px;
      width: 505px;
      left: 137px;
    }
    .gwd-div-xgq1 {
      top: 572px;
      height: 140px;
    }
    .gwd-div-i49p {
      overflow: auto;
      position: absolute;
      display: flex;
      flex-flow: wrap;
      gap: 20px;
      width: 505px;
      height: 200px;
      left: 130px;
      top: 868px;
    }
    .gwd-div-i49p {
      overflow: auto;
      position: absolute;
      display: flex;
      flex-flow: wrap;
      gap: 20px;
      width: 505px;
      left: 127px;
      top: 874px;
      height: 150px;
    }
    .gwd-image-9mpp {
      position: absolute;
      left: 217px;
      top: 396px;
      width: 1316px;
      height: 144px;
      transform: translate3d(-485px, 75px, 0px) scale3d(0.4, 0.4, 0.4);
    }
    .gwd-image-19q4 {
      position: absolute;
      left: 217px;
      top: 396px;
      width: 1316px;
      height: 144px;
      transform: translate3d(-498px, 313px, 0px) scale3d(0.4, 0.4, 0.4);
    }
    .gwd-input-f5zv {
      position: absolute;
      background-image: none;
      background-color: rgba(0, 0, 0, 0);
      border-width: 0px;
      width: 420px;
      height: 34px;
      top: 520px;
      left: 179px;
    }
    .gwd-input-11ji {
      position: absolute;
      background-image: none;
      background-color: rgba(0, 0, 0, 0);
      border-width: 0px;
      height: 34px;
      width: 420px;
      left: 169px;
      top: 763px;
    }
    .gwd-div-ey7f {
      position: absolute;
      overflow: auto;
      display: flex;
      flex-direction: column;
      gap: 5px;
      width: 464px;
      height: 53.3281px;
      left: 147px;
      top: 815px;
    }
    .subject {
      background-color: rgb(172, 226, 255);
      color: rgb(108, 108, 108);
      border-radius: 15px;
      border: none;
      margin: 0px;
      font-style: inherit;
      font-variant: inherit;
      font-stretch: inherit;
      line-height: inherit;
      font-family: Rubik;
      font-size: 14px;
      cursor: pointer;
      outline: none;
      font-weight: 500;
      padding: 10px;
    }
    .tagdiv {
      background-color: rgb(255, 192, 203);
      height: 20px;
      padding: 20px;
      border-radius: 10px;
      font-family: Rubik;
      font-size: 20px;
      color: rgb(108, 108, 108);
      display: flex;
      flex-flow: wrap;
      gap: 10px;
    }
    .delbutton {
      border: none;
      background: none;
      padding: 0px;
      margin: 0px;
      font-style: inherit;
      font-variant: inherit;
      font-stretch: inherit;
      font-size: inherit;
      line-height: inherit;
      font-family: inherit;
      font-optical-sizing: inherit;
      font-kerning: inherit;
      font-feature-settings: inherit;
      font-variation-settings: inherit;
      color: inherit;
      cursor: pointer;
      outline: none;
      font-weight: 500;
    }
    .gwd-input-1skj {
      position: absolute;
      background-image: none;
      background-color: rgb(243, 243, 243);
      width: 280px;
      height: 30px;
      left: 325px;
      top: 245px;
    }
    .gwd-input-3pgx {
      position: absolute;
      top: 294px;
      background-image: none;
      background-color: rgb(243, 243, 243);
      width: 200px;
      left: 405px;
      height: 30px;
    }
    .gwd-input-8y4j {
      position: absolute;
      top: 377px;
      background-image: none;
      background-color: rgb(243, 243, 243);
      left: 441px;
      width: 180px;
      height: 30px;
    }
    .gwd-imagebutton-1oo3 {
      position: absolute;
      height: 140px;
      left: 127px;
      top: 1179px;
      width: 900px;
      transform: translate3d(-190px, -166px, 0px) scale3d(0.65, 0.65, 0.65);
    }
    .gwd-image-nzy9 {
      position: absolute;
      left: 0px;
      top: 0px;
      width: 750px;
      height: 1300px;
    }
    .gwd-imagebutton-1ttt {
      position: absolute;
      width: 100px;
      height: 100px;
      left: 101px;
      top: 1136px;
    }
    .gwd-imagebutton-1697 {
      position: absolute;
      width: 100px;
      height: 100px;
      left: 222px;
      top: 1135px;
    }
    .gwd-imagebutton-fcok {
      position: absolute;
      width: 100px;
      height: 100px;
      top: 1135px;
      left: 344px;
    }
    .gwd-imagebutton-drer {
      position: absolute;
      width: 100px;
      height: 100px;
      top: 1135px;
      left: 466px;
    }
    .gwd-imagebutton-1bi8 {
      position: absolute;
      width: 100px;
      height: 100px;
      left: 587px;
      top: 1136px;
    }
  </style>
  <link href="https://fonts.googleapis.com/css?family=Rubik:300,regular,500,600,700,800,900,300italic,italic,500italic,600italic,700italic,800italic,900italic" rel="stylesheet" type="text/css">
  <script data-source="gwd_webcomponents_v1_min.js" data-version="2" data-exports-type="gwd_webcomponents_v1" src="gwd_webcomponents_v1_min.js"></script>
  <script data-source="gwdpage_min.js" data-version="13" data-exports-type="gwd-page" src="gwdpage_min.js"></script>
  <script data-source="gwdpagedeck_min.js" data-version="14" data-exports-type="gwd-pagedeck" src="gwdpagedeck_min.js"></script>
  <script data-source="https://s0.2mdn.net/ads/studio/Enabler.js" data-exports-type="gwd-google-ad" src="https://s0.2mdn.net/ads/studio/Enabler.js"></script>
  <script data-source="gwdgooglead_min.js" data-version="9" data-exports-type="gwd-google-ad" src="gwdgooglead_min.js"></script>
  <script data-source="gwdimage_min.js" data-version="17" data-exports-type="gwd-image" src="gwdimage_min.js"></script>
  <script data-source="gwdimagebutton_min.js" data-version="13" data-exports-type="gwd-imagebutton" src="gwdimagebutton_min.js"></script>
</head>

<body>
  <gwd-google-ad id="gwd-ad" polite-load="">
    <gwd-metric-configuration></gwd-metric-configuration>
    <gwd-pagedeck class="gwd-page-container" id="pagedeck">
      <gwd-page id="page1" class="gwd-page-wrapper gwd-page-size gwd-lightbox" data-gwd-width="750px" data-gwd-height="1300px">
        <div class="gwd-page-content gwd-page-size">
          <gwd-image id="gwd-image_2" source="assets/Screenshot 2024-04-06 at 3.52.44 pm.png" scaling="stretch" class="gwd-image-nzy9"></gwd-image>
          <h1 class="gwd-span-spot">Create A Group</h1>
          <h2 class="gwd-q-1nk6">group information</h2>
          <h2 class="gwd-h2-17r6">group interests</h2>
          <h2 class="gwd-q-hpn9">group subjects</h2><span class="gwd-span-o31d">Group Description:</span><span class="gwd-span-1syi">Group Name:</span><span class="gwd-span-3yyu">Maximum Members:</span>
          <div class="gwd-div-xgq1 gwd-div-13or gwd-div-17qo" id="interests_div"></div>
          <div class="gwd-div-i49p" id="subjects_div"></div>
          <gwd-image id="searchBar" source="assets/searchBar.png" scaling="stretch" class="gwd-image-9mpp"></gwd-image>
          <gwd-image id="searchBar_1" source="assets/searchBar.png" scaling="stretch" class="gwd-image-19q4"></gwd-image>
          <input type="text" id="intquery" class="gwd-input-f5zv">
          <input type="text" id="subjquery" class="gwd-input-11ji">
          <div class="gwd-div-ey7f" id="subjectlist"></div>
          <input type="text" id="txtName" class="gwd-input-1skj">
          <input type="text" id="txtDescription" class="gwd-input-3pgx">
          <input type="text" id="txtMax" class="gwd-input-8y4j">
          <gwd-imagebutton id="gwd-imagebutton_1" up-image="assets/create.png" over-image="" down-image="" scaling="cover" class="gwd-imagebutton-1oo3" onclick="createGroup()"></gwd-imagebutton>
          <gwd-imagebutton id="gwd-imagebutton_2" up-image="assets/newgrou copy.png" over-image="" down-image="" scaling="cover" class="gwd-imagebutton-1ttt" onclick="nav(0)"></gwd-imagebutton>
          <gwd-imagebutton id="gwd-imagebutton_3" up-image="assets/saechgroups.png" over-image="" down-image="" scaling="cover" class="gwd-imagebutton-1697" onclick="nav(1)"></gwd-imagebutton>
          <gwd-imagebutton id="gwd-imagebutton_4" up-image="assets/upcome.png" over-image="" down-image="" scaling="cover" class="gwd-imagebutton-fcok" onclick="nav(2)"></gwd-imagebutton>
          <gwd-imagebutton id="gwd-imagebutton_5" up-image="assets/mygroups.png" over-image="" down-image="" scaling="cover" class="gwd-imagebutton-drer" onclick="nav(3)"></gwd-imagebutton>
          <gwd-imagebutton id="gwd-imagebutton_6" up-image="assets/profile.png" over-image="" down-image="" scaling="cover" class="gwd-imagebutton-1bi8" onclick="nav(4)"></gwd-imagebutton>
        </div>
      </gwd-page>
    </gwd-pagedeck>
  </gwd-google-ad>
  <script type="text/javascript" id="gwd-init-code">
    const path = "https://64797083-dd51-442c-a36f-84a92c6265df-00-30ipml1u64wqw.worf.replit.dev/"
    var interestsDiv = document.getElementsByClassName("gwd-div-xgq1")[0];
    var subjectsDiv = document.getElementById("subjects_div")
    var subjectListDiv = document.getElementById("subjectlist")


    var currentInterests = []
    var currentSubjects = []

    async function sendHTTPS(extension, body = {
      "key": "val"
    }, method = "POST") {
      let data = await fetch(
        path + extension, {
          method: method,
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(body)
        });
      let j = await data.json();
      return j;
    }

    let userId = ""


function nav(loc) {

    var params = new URLSearchParams(window.location.search);
            // Retrieve data parameter
    
      userId = params.get('userId');
            // Display data on the page
      if (!userId) {
        userId = "000001";
      }

    console.log(loc);
    let s = "";
    if (loc == 0) {
        s = "../creategroup/creategroup.html";
    }
    if (loc == 1) {
        s = "../addgroups/addgroups.html";
    }
    if (loc == 2) {
        s = "../home/home.html";
    }
    if (loc == 3) {
        s = "../mygroups/mygroups.html";
    }
    if (loc == 4) {
        s = "../profile/profile.html";
    }
    window.location.href = s + '?userId=' + userId;
}

    function clearOptions() {
      var divsToDelete = document.querySelectorAll("button.subject");
      divsToDelete.forEach(function(div) {
        div.remove();
      });
    }


    function clearDisplay() {
      var divsToDelete = document.querySelectorAll("div.tagdiv");
      divsToDelete.forEach(function(div) {
        div.remove();
      });
    }

    function updateDisplay() {
      function interestRemove() {
        stringToRemove = String(this.parentNode.firstElementChild.textContent)
        currentInterests = currentInterests.filter(function(item) {
          return item !== stringToRemove;
        });
        this.parentNode.remove()
      }

      function subjectRemove() {
        stringToRemove = String(this.parentNode.firstElementChild.textContent)
        currentSubjects = currentSubjects.filter(function(item) {
          return item !== stringToRemove;
        });
        this.parentNode.remove()
      }

      for (var i = 0; i <= currentInterests.length - 1; i++) {
        var newDiv = document.createElement("div");
        newDiv.className = "tagdiv"
        var newText = document.createElement("text");
        newText.textContent = currentInterests[i]
        newDiv.appendChild(newText);
        var newButton = document.createElement("button");
        newButton.className = "delbutton"
        newButton.textContent = "X"
        newButton.onclick = interestRemove
        newDiv.appendChild(newButton)
        interestsDiv.appendChild(newDiv);
      }

      for (var i = 0; i <= currentSubjects.length - 1; i++) {
        var newDiv = document.createElement("div");
        newDiv.className = "tagdiv"
        var newText = document.createElement("text");
        newText.textContent = currentSubjects[i]
        newDiv.appendChild(newText);
        var newButton = document.createElement("button");
        newButton.className = "delbutton"
        newButton.textContent = "X"
        newButton.onclick = subjectRemove
        newDiv.appendChild(newButton)
        subjectsDiv.appendChild(newDiv);
      }

    }



    function createGroup() {
      var params = new URLSearchParams(window.location.search);
            // Retrieve data parameter
    
      userId = params.get('userId');
            // Display data on the page
      if (!userId) {
        userId = "000001";
      }
      let x = sendHTTPS("createGroup", {
        'name': document.getElementById("txtName").value,
        'subjects': currentSubjects,
        'interests': currentInterests,
        'admin': userId,
        'max': document.getElementById("txtMax").value,
        'description': document.getElementById("txtDescription").value,
      })
      console.log(x)
    }

    var currentSubjects = []

    async function updateOptions() { ///for the display of possible subjects
      clearOptions()
      let x = await sendHTTPS("searchSubjects", {
        'search': document.getElementById("subjquery").value
      })

      function appendSubject(element) {
        console.log(element.textContent)
        currentSubjects.push(element.textContent)
        clearDisplay()
        updateDisplay()
      }
      for (var i = 0; i <= x.length - 1; i++) {
        var newButton = document.createElement("button");
        newButton.className = "subject"
        newButton.textContent = x[i]
        newButton.onclick = function() {
          appendSubject(this)
        }
        console.log(x[i])
        subjectListDiv.appendChild(newButton)
      }


    }
    async function addInterest() {
      currentInterests.push(document.getElementById("intquery").value)
      document.getElementById("intquery").value = ""
      console.log(currentInterests)
      clearDisplay()
      updateDisplay()
    }

    document.getElementById("intquery").addEventListener("keyup", function(event) {
      if (event.keyCode === 13) {
        addInterest()
      }
    });


    document.getElementById("subjquery").addEventListener("keyup", function(event) {
      if (event.keyCode === 13) {
        updateOptions()
      }
    });

    (function() {
      var gwdAd = document.getElementById('gwd-ad');

      /**
       * Handles the DOMContentLoaded event. The DOMContentLoaded event is
       * fired when the document has been completely loaded and parsed.
       */
      function handleDomContentLoaded(event) {

      }

      /**
       * Handles the WebComponentsReady event. This event is fired when all
       * custom elements have been registered and upgraded.
       */
      function handleWebComponentsReady(event) {
        // Start the Ad lifecycle.
        requestAnimationFrame(function() {
          setTimeout(function() {
            gwdAd.initAd();
          }, 1);
        });
      }

      /**
       * Handles the event that is dispatched after the Ad has been
       * initialized and before the default page of the Ad is shown.
       */
      function handleAdInitialized(event) {}

      window.addEventListener('DOMContentLoaded',
        handleDomContentLoaded, false);
      window.addEventListener('WebComponentsReady',
        handleWebComponentsReady, false);
      window.addEventListener('adinitialized',
        handleAdInitialized, false);
    })();
  </script>
</body>

</html>